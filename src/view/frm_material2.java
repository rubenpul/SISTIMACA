/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package view;

import controlador.ctrl_comun;
import controlador.ctrl_material;
import java.awt.Color;
import static java.awt.Frame.MAXIMIZED_BOTH;
import java.awt.Image;
import java.awt.image.BufferedImage;
import java.io.File;
import java.io.IOException;
import javax.imageio.ImageIO;
import javax.swing.Icon;
import javax.swing.ImageIcon;
import javax.swing.JFileChooser;
import javax.swing.JOptionPane;
import javax.swing.filechooser.FileNameExtensionFilter;
import model.class_material;

/**
 *
 * @author ruben
 */
public class frm_material2 extends javax.swing.JFrame {

    private File fichero = null;
    public frm_material2() {
        initComponents();
          initComponents();
        this.setLocationRelativeTo(null);
        this.setTitle("SISTIMACA - AGREGAR MATERIAL");
        this.getContentPane().setBackground(Color.WHITE);
        this.setExtendedState(MAXIMIZED_BOTH);
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        panel_informacionmonetaria = new javax.swing.JPanel();
        lbl_moneda = new javax.swing.JLabel();
        lbl_preciounitario = new javax.swing.JLabel();
        lbl_preciototal = new javax.swing.JLabel();
        txt_preciounitario = new javax.swing.JTextField();
        cmb_moneda = new javax.swing.JComboBox();
        txt_preciototal = new javax.swing.JTextField();
        lbl_informacionmonetaria = new javax.swing.JLabel();
        panel_informacionubicacion = new javax.swing.JPanel();
        lbl_empresamaterial = new javax.swing.JLabel();
        lbl_almacenmaterial = new javax.swing.JLabel();
        txt_ubicacionmaterial = new javax.swing.JTextField();
        cmb_almacenmaterial = new javax.swing.JComboBox();
        cmb_empresamaterial = new javax.swing.JComboBox();
        lbl_ubicacionmaterial = new javax.swing.JLabel();
        lbl_informacionubicacion = new javax.swing.JLabel();
        txt_ruta = new javax.swing.JTextField();
        lbl_valoracionmaterial = new javax.swing.JLabel();
        cmb_valoracionmaterial = new javax.swing.JComboBox();
        panel_infogeneralmaterial = new javax.swing.JPanel();
        lbl_numeromaterial = new javax.swing.JLabel();
        lbl_codmaterialalterno = new javax.swing.JLabel();
        lbl_modelo = new javax.swing.JLabel();
        txt_modelo = new javax.swing.JTextField();
        txt_numeromaterial = new javax.swing.JTextField();
        txt_codmaterialalterno = new javax.swing.JTextField();
        lbl_infogeneralmaterial = new javax.swing.JLabel();
        lbl_desmaterial1 = new javax.swing.JLabel();
        lbl_marca = new javax.swing.JLabel();
        txt_desmaterial = new javax.swing.JTextField();
        txt_marca = new javax.swing.JTextField();
        panel_infostockmaterial = new javax.swing.JPanel();
        lbl_stockinicialmaterial = new javax.swing.JLabel();
        lbl_stockminimomaterial = new javax.swing.JLabel();
        lbl_stockpedidomaterial = new javax.swing.JLabel();
        lbl_stockmaximo = new javax.swing.JLabel();
        lbl_unidadmedidamaterial = new javax.swing.JLabel();
        txt_stockinicialmaterial = new javax.swing.JTextField();
        txt_stockminimomaterial = new javax.swing.JTextField();
        txt_stockpedidomaterial = new javax.swing.JTextField();
        cmb_unidadmedidamaterial = new javax.swing.JComboBox();
        txt_stockmaximo = new javax.swing.JTextField();
        lbl_infostockmaterial = new javax.swing.JLabel();
        panel_clasificacionmaterial = new javax.swing.JPanel();
        lbl_grupomaterial = new javax.swing.JLabel();
        lbl_clasematerial = new javax.swing.JLabel();
        lbl_clasificacionmaterial = new javax.swing.JLabel();
        cmb_clasematerial = new javax.swing.JComboBox();
        cmb_grupoarticulo = new javax.swing.JComboBox();
        panel_observaciones = new javax.swing.JPanel();
        lbl_observaciones = new javax.swing.JLabel();
        jScrollPane1 = new javax.swing.JScrollPane();
        area_observaciones = new javax.swing.JTextArea();
        lbl_encabezadomaterial = new javax.swing.JLabel();
        panel_foto = new javax.swing.JPanel();
        lbl_foto = new javax.swing.JLabel();
        bot_buscarfoto = new javax.swing.JButton();
        panel_usomaterial = new javax.swing.JPanel();
        lbl_usomaterial = new javax.swing.JLabel();
        jScrollPane2 = new javax.swing.JScrollPane();
        area_usomaterial = new javax.swing.JTextArea();
        bot_agregarinventario = new javax.swing.JButton();
        bot_cerrar = new javax.swing.JButton();
        bot_reiniciar = new javax.swing.JButton();
        bot_guardarfoto = new javax.swing.JButton();

        panel_informacionmonetaria.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        panel_informacionmonetaria.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        lbl_moneda.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        lbl_moneda.setText("MONEDA");
        panel_informacionmonetaria.add(lbl_moneda, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 50, -1, -1));

        lbl_preciounitario.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        lbl_preciounitario.setText("PRECIO UNITARIO");
        panel_informacionmonetaria.add(lbl_preciounitario, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 90, -1, -1));

        lbl_preciototal.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        lbl_preciototal.setText("PRECIO TOTAL");
        panel_informacionmonetaria.add(lbl_preciototal, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 130, -1, -1));

        txt_preciounitario.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        panel_informacionmonetaria.add(txt_preciounitario, new org.netbeans.lib.awtextra.AbsoluteConstraints(170, 80, 90, 30));

        cmb_moneda.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        cmb_moneda.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "VE", "USD", "EURO" }));
        panel_informacionmonetaria.add(cmb_moneda, new org.netbeans.lib.awtextra.AbsoluteConstraints(170, 40, 90, 30));

        txt_preciototal.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        panel_informacionmonetaria.add(txt_preciototal, new org.netbeans.lib.awtextra.AbsoluteConstraints(170, 120, 90, 30));

        lbl_informacionmonetaria.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        lbl_informacionmonetaria.setForeground(new java.awt.Color(0, 0, 255));
        lbl_informacionmonetaria.setText("INFORMACION MONETARIA");
        panel_informacionmonetaria.add(lbl_informacionmonetaria, new org.netbeans.lib.awtextra.AbsoluteConstraints(90, 10, -1, -1));

        panel_informacionubicacion.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        panel_informacionubicacion.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        lbl_empresamaterial.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        lbl_empresamaterial.setText("EMPRESA");
        panel_informacionubicacion.add(lbl_empresamaterial, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 140, -1, -1));

        lbl_almacenmaterial.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        lbl_almacenmaterial.setText("ALMACÉN");
        panel_informacionubicacion.add(lbl_almacenmaterial, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 100, -1, -1));

        txt_ubicacionmaterial.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        panel_informacionubicacion.add(txt_ubicacionmaterial, new org.netbeans.lib.awtextra.AbsoluteConstraints(120, 50, 180, 30));

        cmb_almacenmaterial.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        panel_informacionubicacion.add(cmb_almacenmaterial, new org.netbeans.lib.awtextra.AbsoluteConstraints(120, 90, 180, 30));

        cmb_empresamaterial.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        panel_informacionubicacion.add(cmb_empresamaterial, new org.netbeans.lib.awtextra.AbsoluteConstraints(120, 130, 180, 30));

        lbl_ubicacionmaterial.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        lbl_ubicacionmaterial.setText("UBICACIÓN");
        panel_informacionubicacion.add(lbl_ubicacionmaterial, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 60, -1, -1));

        lbl_informacionubicacion.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        lbl_informacionubicacion.setForeground(new java.awt.Color(0, 0, 255));
        lbl_informacionubicacion.setText("INFORMACION UBICACIÓN ");
        panel_informacionubicacion.add(lbl_informacionubicacion, new org.netbeans.lib.awtextra.AbsoluteConstraints(80, 20, -1, -1));

        lbl_valoracionmaterial.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        lbl_valoracionmaterial.setText("VALORACIÓN MATERIAL");

        cmb_valoracionmaterial.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        cmb_valoracionmaterial.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "STOCK NUEVO", "STOCK USADO" }));

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        addWindowListener(new java.awt.event.WindowAdapter() {
            public void windowOpened(java.awt.event.WindowEvent evt) {
                formWindowOpened(evt);
            }
        });
        getContentPane().setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        panel_infogeneralmaterial.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        panel_infogeneralmaterial.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        lbl_numeromaterial.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        lbl_numeromaterial.setText("NUMERO DE MATERIAL");
        panel_infogeneralmaterial.add(lbl_numeromaterial, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 40, -1, -1));

        lbl_codmaterialalterno.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        lbl_codmaterialalterno.setText("CODIGO MATERIAL ALTERNO");
        panel_infogeneralmaterial.add(lbl_codmaterialalterno, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 80, -1, -1));

        lbl_modelo.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        lbl_modelo.setText("MODELO");
        panel_infogeneralmaterial.add(lbl_modelo, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 200, -1, -1));

        txt_modelo.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        panel_infogeneralmaterial.add(txt_modelo, new org.netbeans.lib.awtextra.AbsoluteConstraints(240, 190, 210, 30));

        txt_numeromaterial.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        panel_infogeneralmaterial.add(txt_numeromaterial, new org.netbeans.lib.awtextra.AbsoluteConstraints(240, 30, 210, 30));

        txt_codmaterialalterno.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        panel_infogeneralmaterial.add(txt_codmaterialalterno, new org.netbeans.lib.awtextra.AbsoluteConstraints(240, 70, 210, 30));

        lbl_infogeneralmaterial.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        lbl_infogeneralmaterial.setForeground(new java.awt.Color(0, 0, 255));
        lbl_infogeneralmaterial.setText("INFORMACION GENERAL");
        panel_infogeneralmaterial.add(lbl_infogeneralmaterial, new org.netbeans.lib.awtextra.AbsoluteConstraints(140, 10, -1, -1));

        lbl_desmaterial1.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        lbl_desmaterial1.setText("DESCRIPCION MATERIAL");
        panel_infogeneralmaterial.add(lbl_desmaterial1, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 120, -1, -1));

        lbl_marca.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        lbl_marca.setText("MARCA");
        panel_infogeneralmaterial.add(lbl_marca, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 160, -1, -1));

        txt_desmaterial.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        panel_infogeneralmaterial.add(txt_desmaterial, new org.netbeans.lib.awtextra.AbsoluteConstraints(240, 110, 210, 30));

        txt_marca.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        panel_infogeneralmaterial.add(txt_marca, new org.netbeans.lib.awtextra.AbsoluteConstraints(240, 150, 210, 30));

        getContentPane().add(panel_infogeneralmaterial, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 60, 480, 230));

        panel_infostockmaterial.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        panel_infostockmaterial.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        lbl_stockinicialmaterial.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        lbl_stockinicialmaterial.setText("STOCK INICIAL");
        panel_infostockmaterial.add(lbl_stockinicialmaterial, new org.netbeans.lib.awtextra.AbsoluteConstraints(30, 60, -1, -1));

        lbl_stockminimomaterial.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        lbl_stockminimomaterial.setText("STOCK MINIMO");
        panel_infostockmaterial.add(lbl_stockminimomaterial, new org.netbeans.lib.awtextra.AbsoluteConstraints(30, 110, -1, -1));

        lbl_stockpedidomaterial.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        lbl_stockpedidomaterial.setText("STOCK PEDIDO");
        panel_infostockmaterial.add(lbl_stockpedidomaterial, new org.netbeans.lib.awtextra.AbsoluteConstraints(30, 160, -1, -1));

        lbl_stockmaximo.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        lbl_stockmaximo.setText("STOCK MÁXIMO");
        panel_infostockmaterial.add(lbl_stockmaximo, new org.netbeans.lib.awtextra.AbsoluteConstraints(30, 220, -1, -1));

        lbl_unidadmedidamaterial.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        lbl_unidadmedidamaterial.setText("UNIDAD DE MEDIDA BASE (UMB)");
        panel_infostockmaterial.add(lbl_unidadmedidamaterial, new org.netbeans.lib.awtextra.AbsoluteConstraints(30, 277, -1, 20));

        txt_stockinicialmaterial.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        panel_infostockmaterial.add(txt_stockinicialmaterial, new org.netbeans.lib.awtextra.AbsoluteConstraints(280, 50, 90, 30));

        txt_stockminimomaterial.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        panel_infostockmaterial.add(txt_stockminimomaterial, new org.netbeans.lib.awtextra.AbsoluteConstraints(280, 100, 90, 30));

        txt_stockpedidomaterial.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        panel_infostockmaterial.add(txt_stockpedidomaterial, new org.netbeans.lib.awtextra.AbsoluteConstraints(280, 150, 90, 30));

        cmb_unidadmedidamaterial.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        cmb_unidadmedidamaterial.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "UNIDAD", "LITRO" }));
        panel_infostockmaterial.add(cmb_unidadmedidamaterial, new org.netbeans.lib.awtextra.AbsoluteConstraints(280, 270, 90, 30));

        txt_stockmaximo.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        panel_infostockmaterial.add(txt_stockmaximo, new org.netbeans.lib.awtextra.AbsoluteConstraints(280, 210, 90, 30));

        lbl_infostockmaterial.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        lbl_infostockmaterial.setForeground(new java.awt.Color(0, 0, 255));
        lbl_infostockmaterial.setText("INFORMACION STOCK");
        panel_infostockmaterial.add(lbl_infostockmaterial, new org.netbeans.lib.awtextra.AbsoluteConstraints(160, 10, -1, -1));

        getContentPane().add(panel_infostockmaterial, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 300, 480, 340));

        panel_clasificacionmaterial.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        panel_clasificacionmaterial.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        lbl_grupomaterial.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        lbl_grupomaterial.setText("GRUPO DE ARTÍCULO");
        panel_clasificacionmaterial.add(lbl_grupomaterial, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 130, -1, -1));

        lbl_clasematerial.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        lbl_clasematerial.setText("CLASE MATERIAL");
        panel_clasificacionmaterial.add(lbl_clasematerial, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 50, -1, -1));

        lbl_clasificacionmaterial.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        lbl_clasificacionmaterial.setForeground(new java.awt.Color(0, 0, 255));
        lbl_clasificacionmaterial.setText("CLASIFICACIÓN MATERIAL");
        panel_clasificacionmaterial.add(lbl_clasificacionmaterial, new org.netbeans.lib.awtextra.AbsoluteConstraints(100, 10, -1, -1));

        panel_clasificacionmaterial.add(cmb_clasematerial, new org.netbeans.lib.awtextra.AbsoluteConstraints(160, 50, 190, -1));

        panel_clasificacionmaterial.add(cmb_grupoarticulo, new org.netbeans.lib.awtextra.AbsoluteConstraints(180, 130, 170, -1));

        getContentPane().add(panel_clasificacionmaterial, new org.netbeans.lib.awtextra.AbsoluteConstraints(520, 60, 400, 230));

        panel_observaciones.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        panel_observaciones.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        lbl_observaciones.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        lbl_observaciones.setForeground(new java.awt.Color(0, 0, 255));
        lbl_observaciones.setText("OBSERVACIONES");
        panel_observaciones.add(lbl_observaciones, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 10, -1, -1));

        area_observaciones.setColumns(20);
        area_observaciones.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        area_observaciones.setRows(5);
        jScrollPane1.setViewportView(area_observaciones);

        panel_observaciones.add(jScrollPane1, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 40, 340, -1));

        getContentPane().add(panel_observaciones, new org.netbeans.lib.awtextra.AbsoluteConstraints(520, 300, 400, 160));

        lbl_encabezadomaterial.setFont(new java.awt.Font("Tahoma", 1, 36)); // NOI18N
        lbl_encabezadomaterial.setForeground(new java.awt.Color(0, 0, 255));
        lbl_encabezadomaterial.setText("MÓDULO MATERIAL");
        getContentPane().add(lbl_encabezadomaterial, new org.netbeans.lib.awtextra.AbsoluteConstraints(340, 10, -1, -1));

        panel_foto.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "FOTO REFERENCIAL", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 1, 14))); // NOI18N
        panel_foto.setForeground(new java.awt.Color(0, 0, 255));

        javax.swing.GroupLayout panel_fotoLayout = new javax.swing.GroupLayout(panel_foto);
        panel_foto.setLayout(panel_fotoLayout);
        panel_fotoLayout.setHorizontalGroup(
            panel_fotoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(lbl_foto, javax.swing.GroupLayout.DEFAULT_SIZE, 198, Short.MAX_VALUE)
        );
        panel_fotoLayout.setVerticalGroup(
            panel_fotoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(lbl_foto, javax.swing.GroupLayout.DEFAULT_SIZE, 184, Short.MAX_VALUE)
        );

        getContentPane().add(panel_foto, new org.netbeans.lib.awtextra.AbsoluteConstraints(930, 60, 210, 210));

        bot_buscarfoto.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        bot_buscarfoto.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagenes/equipment.png"))); // NOI18N
        bot_buscarfoto.setText("BUSCAR FOTO");
        bot_buscarfoto.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bot_buscarfotoActionPerformed(evt);
            }
        });
        getContentPane().add(bot_buscarfoto, new org.netbeans.lib.awtextra.AbsoluteConstraints(1150, 70, 160, 40));

        panel_usomaterial.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        panel_usomaterial.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        lbl_usomaterial.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        lbl_usomaterial.setForeground(new java.awt.Color(0, 0, 255));
        lbl_usomaterial.setText("USO MATERIAL");
        panel_usomaterial.add(lbl_usomaterial, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 10, -1, -1));

        area_usomaterial.setColumns(20);
        area_usomaterial.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        area_usomaterial.setRows(5);
        jScrollPane2.setViewportView(area_usomaterial);

        panel_usomaterial.add(jScrollPane2, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 50, 360, 90));

        getContentPane().add(panel_usomaterial, new org.netbeans.lib.awtextra.AbsoluteConstraints(520, 480, 400, 160));

        bot_agregarinventario.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        bot_agregarinventario.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagenes/material2.png"))); // NOI18N
        bot_agregarinventario.setText("AGREGAR AL INVENTARIO");
        bot_agregarinventario.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bot_agregarinventarioActionPerformed(evt);
            }
        });
        getContentPane().add(bot_agregarinventario, new org.netbeans.lib.awtextra.AbsoluteConstraints(40, 690, -1, -1));

        bot_cerrar.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        bot_cerrar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagenes/close.png"))); // NOI18N
        bot_cerrar.setText("CERRAR");
        bot_cerrar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bot_cerrarActionPerformed(evt);
            }
        });
        getContentPane().add(bot_cerrar, new org.netbeans.lib.awtextra.AbsoluteConstraints(1080, 690, -1, -1));

        bot_reiniciar.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        bot_reiniciar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagenes/eraser.png"))); // NOI18N
        bot_reiniciar.setText("REINICIAR");
        bot_reiniciar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bot_reiniciarActionPerformed(evt);
            }
        });
        getContentPane().add(bot_reiniciar, new org.netbeans.lib.awtextra.AbsoluteConstraints(600, 690, -1, 30));

        bot_guardarfoto.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        bot_guardarfoto.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagenes/equipment.png"))); // NOI18N
        bot_guardarfoto.setText("GUARDAR FOTO");
        bot_guardarfoto.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bot_guardarfotoActionPerformed(evt);
            }
        });
        getContentPane().add(bot_guardarfoto, new org.netbeans.lib.awtextra.AbsoluteConstraints(1150, 130, 160, 40));

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void bot_buscarfotoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bot_buscarfotoActionPerformed
        
       
        JFileChooser file = new JFileChooser();
        FileNameExtensionFilter filtro = new FileNameExtensionFilter("*.jpg", "jpg");
        file.setFileFilter(filtro);

        int seleccion = file.showOpenDialog(this);
        //Si el usuario, pincha en aceptar
        if (seleccion == JFileChooser.APPROVE_OPTION) {
            //Seleccionamos el fichero
            fichero = file.getSelectedFile();
            //Ecribe la ruta del fichero seleccionado en el campo de texto
            txt_ruta.setText(fichero.getAbsolutePath());
            ImageIcon icon = new ImageIcon(fichero.toString());
            //System.out.println(fichero.getName());
            Icon icono = new ImageIcon(icon.getImage().getScaledInstance(lbl_foto.getWidth(),lbl_foto.getHeight(), Image.SCALE_DEFAULT));
            lbl_foto.setText(null);
            lbl_foto.setIcon(icono);
        }     
    }//GEN-LAST:event_bot_buscarfotoActionPerformed

    private void bot_agregarinventarioActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bot_agregarinventarioActionPerformed
       class_material modelo_material;
       ctrl_comun control;
       String image_string = null;
      
       if (!txt_ruta.getText().equals("")) {
            try {
                // TODO add your handling code here:
                BufferedImage img = ImageIO.read(new File(fichero.toString()));
                image_string = funciones.encodeToString(img);
                //guardar_imagen(image_string, fichero.getName());
            } catch (IOException ex) {
                JOptionPane.showMessageDialog(null,"ERROR EN FOTO");
            }

        }
      
        if(!txt_numeromaterial.getText().equals("") && !txt_codmaterialalterno.getText().equals("") && !txt_desmaterial.getText().equals("") && !txt_marca.getText().equals("") && !txt_modelo.getText().equals("") 
                && !txt_stockinicialmaterial.getText().equals("") && !txt_stockminimomaterial.getText().equals("") && !txt_stockpedidomaterial.getText().equals("") && !txt_stockmaximo.getText().equals("") && !cmb_unidadmedidamaterial.getSelectedItem().equals("Seleccione...")
                && !cmb_clasematerial.getSelectedItem().equals("Seleccione...") && !cmb_grupoarticulo.getSelectedItem().equals("Seleccione...")
                && !area_observaciones.getText().equals("") && !area_usomaterial.getText().equals("") ) {
                
                ctrl_material material = new ctrl_material(
                    0, 
                    Integer.parseInt(txt_numeromaterial.getText().trim().toUpperCase()),
                    txt_codmaterialalterno.getText().trim().toUpperCase(),
                    image_string,
                    txt_desmaterial.getText().trim().toUpperCase(),
                    txt_marca.getText().trim().toUpperCase(),
                    txt_modelo.getText().trim().toUpperCase(),
                    cmb_unidadmedidamaterial.getSelectedItem().toString().trim(),
                    Integer.parseInt(txt_stockinicialmaterial.getText().trim()),
                    0,
                    0,
                    Integer.parseInt(txt_stockminimomaterial.getText().trim()),
                    Integer.parseInt(txt_stockpedidomaterial.getText().trim()),
                    Integer.parseInt(txt_stockmaximo.getText().trim()),
                    0.0,
                    0.0,
                    funciones.fecha_bd_usuario(funciones.getfechacalendario(), 2),
                    13090757,
                    "ruben",
                    0,
                    0,
                    area_observaciones.getText().trim(),
                    area_usomaterial.getText().trim(),
                    Integer.parseInt(cmb_clasematerial.getSelectedItem().toString().substring(0,3).trim()),
                    cmb_clasematerial.getSelectedItem().toString().substring(5,cmb_clasematerial.getSelectedItem().toString().length()).trim(),
                    Integer.parseInt(cmb_grupoarticulo.getSelectedItem().toString().substring(0,3).trim()),
                    cmb_grupoarticulo.getSelectedItem().toString().substring(5,cmb_grupoarticulo.getSelectedItem().toString().length()).trim(),
                    1,
                    "VEB",
                    "SIN UBICACION",
                    1,
                    "CENTRAL",
                    1,
                    "TIMACA",
                    1,
                    "STOCK NUEVO"
                        
                );
                               
                modelo_material = material.actualizar_material();
                
                if (modelo_material.isStatus()){
                    
                                   
                   
                   
                }
                
        }
        else{
            JOptionPane.showMessageDialog(null,"DATOS INCOMPLETOS PARA GUARDAR");
        } 
    }//GEN-LAST:event_bot_agregarinventarioActionPerformed

    private void bot_cerrarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bot_cerrarActionPerformed
        this.dispose();
    }//GEN-LAST:event_bot_cerrarActionPerformed

    private void bot_reiniciarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bot_reiniciarActionPerformed
       frm_material2 frm = new frm_material2();
       frm.setVisible(true);
       this.dispose();
    }//GEN-LAST:event_bot_reiniciarActionPerformed

    private void formWindowOpened(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_formWindowOpened
       
         ctrl_comun control = new ctrl_comun(9);
        cmb_clasematerial =  control.cargar_combo(cmb_clasematerial,"Seleccione...");
        
        
        txt_numeromaterial.requestFocusInWindow();
    }//GEN-LAST:event_formWindowOpened

    private void bot_guardarfotoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bot_guardarfotoActionPerformed
        
    }//GEN-LAST:event_bot_guardarfotoActionPerformed

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(frm_material2.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(frm_material2.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(frm_material2.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(frm_material2.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new frm_material2().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JTextArea area_observaciones;
    private javax.swing.JTextArea area_usomaterial;
    private javax.swing.JButton bot_agregarinventario;
    private javax.swing.JButton bot_buscarfoto;
    private javax.swing.JButton bot_cerrar;
    private javax.swing.JButton bot_guardarfoto;
    private javax.swing.JButton bot_reiniciar;
    private javax.swing.JComboBox cmb_almacenmaterial;
    private javax.swing.JComboBox cmb_clasematerial;
    private javax.swing.JComboBox cmb_empresamaterial;
    private javax.swing.JComboBox cmb_grupoarticulo;
    private javax.swing.JComboBox cmb_moneda;
    private javax.swing.JComboBox cmb_unidadmedidamaterial;
    private javax.swing.JComboBox cmb_valoracionmaterial;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JLabel lbl_almacenmaterial;
    private javax.swing.JLabel lbl_clasematerial;
    private javax.swing.JLabel lbl_clasificacionmaterial;
    private javax.swing.JLabel lbl_codmaterialalterno;
    private javax.swing.JLabel lbl_desmaterial1;
    private javax.swing.JLabel lbl_empresamaterial;
    private javax.swing.JLabel lbl_encabezadomaterial;
    private javax.swing.JLabel lbl_foto;
    private javax.swing.JLabel lbl_grupomaterial;
    private javax.swing.JLabel lbl_infogeneralmaterial;
    private javax.swing.JLabel lbl_informacionmonetaria;
    private javax.swing.JLabel lbl_informacionubicacion;
    private javax.swing.JLabel lbl_infostockmaterial;
    private javax.swing.JLabel lbl_marca;
    private javax.swing.JLabel lbl_modelo;
    private javax.swing.JLabel lbl_moneda;
    private javax.swing.JLabel lbl_numeromaterial;
    private javax.swing.JLabel lbl_observaciones;
    private javax.swing.JLabel lbl_preciototal;
    private javax.swing.JLabel lbl_preciounitario;
    private javax.swing.JLabel lbl_stockinicialmaterial;
    private javax.swing.JLabel lbl_stockmaximo;
    private javax.swing.JLabel lbl_stockminimomaterial;
    private javax.swing.JLabel lbl_stockpedidomaterial;
    private javax.swing.JLabel lbl_ubicacionmaterial;
    private javax.swing.JLabel lbl_unidadmedidamaterial;
    private javax.swing.JLabel lbl_usomaterial;
    private javax.swing.JLabel lbl_valoracionmaterial;
    private javax.swing.JPanel panel_clasificacionmaterial;
    private javax.swing.JPanel panel_foto;
    private javax.swing.JPanel panel_infogeneralmaterial;
    private javax.swing.JPanel panel_informacionmonetaria;
    private javax.swing.JPanel panel_informacionubicacion;
    private javax.swing.JPanel panel_infostockmaterial;
    private javax.swing.JPanel panel_observaciones;
    private javax.swing.JPanel panel_usomaterial;
    private javax.swing.JTextField txt_codmaterialalterno;
    private javax.swing.JTextField txt_desmaterial;
    private javax.swing.JTextField txt_marca;
    private javax.swing.JTextField txt_modelo;
    private javax.swing.JTextField txt_numeromaterial;
    private javax.swing.JTextField txt_preciototal;
    private javax.swing.JTextField txt_preciounitario;
    private javax.swing.JTextField txt_ruta;
    private javax.swing.JTextField txt_stockinicialmaterial;
    private javax.swing.JTextField txt_stockmaximo;
    private javax.swing.JTextField txt_stockminimomaterial;
    private javax.swing.JTextField txt_stockpedidomaterial;
    private javax.swing.JTextField txt_ubicacionmaterial;
    // End of variables declaration//GEN-END:variables
}
