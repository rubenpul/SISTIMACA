/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package view;

import controlador.ctrl_cotizacion;
import java.awt.Color;
import java.awt.image.BufferedImage;
import java.sql.SQLException;
import javax.swing.ImageIcon;
import javax.swing.JOptionPane;
import javax.swing.UIManager;


/**
 *
 * @author ruben
 */
public class frm_anularordendecompra extends javax.swing.JFrame {

    /**
     * Creates new form frm_ordendecompra
     */
    public frm_anularordendecompra() {
        initComponents();
        this.getContentPane().setBackground(new Color(245,245,245));
         this.setExtendedState(MAXIMIZED_BOTH);
         this.setTitle("SISTIMACA - ANULAR ORDEN DE COMPRA");
         
         this.setIconImage(new ImageIcon(funciones.logoempresa()).getImage());
        
         
        // Cargar Look And Feel (Marcos Windows )
        try{
         UIManager.setLookAndFeel("com.sun.java.swing.plaf.windows.WindowsLookAndFeel"); 
        }
        catch(Exception e){} 
        
        lbl_usuario.setText(frm_principalM1.lbl_usuario.getText().trim());
        lbl_nombres.setText(frm_principalM1.lbl_nombres.getText().trim());
        
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        txt_posicion = new javax.swing.JTextField();
        txt_idcompra = new javax.swing.JTextField();
        jPanel1 = new javax.swing.JPanel();
        lbl_proveedor = new javax.swing.JLabel();
        txt_numerosolicitud = new javax.swing.JTextField();
        lbl_cantidadsolicitada = new javax.swing.JLabel();
        txt_cantidadsolicitada = new javax.swing.JTextField();
        lbl_numeromaterial = new javax.swing.JLabel();
        txt_numeromaterial = new javax.swing.JTextField();
        lbl_cantidadaprobada = new javax.swing.JLabel();
        spin_cantidadaprobada = new javax.swing.JSpinner();
        lbl_preciounitario = new javax.swing.JLabel();
        txt_preciounitario = new javax.swing.JTextField();
        txt_totalposicion = new javax.swing.JTextField();
        lbl_posicion = new javax.swing.JLabel();
        jScrollPane3 = new javax.swing.JScrollPane();
        area_justificacion = new javax.swing.JTextArea();
        lbl_justificacion = new javax.swing.JLabel();
        lbl_observacion = new javax.swing.JLabel();
        jScrollPane4 = new javax.swing.JScrollPane();
        area_observacion = new javax.swing.JTextArea();
        lbl_titulodetallesolicitud = new javax.swing.JLabel();
        jScrollPane2 = new javax.swing.JScrollPane();
        table_resumenordendecompra = new javax.swing.JTable();
        jPanel7 = new javax.swing.JPanel();
        lbl_encabezadoalmacen2 = new javax.swing.JLabel();
        lbl_imagentimaca2 = new javax.swing.JLabel();
        bot_reiniciar = new javax.swing.JButton();
        bot_cerrar = new javax.swing.JButton();
        lbl_usuario = new javax.swing.JLabel();
        lbl_nombres = new javax.swing.JLabel();
        jPanel3 = new javax.swing.JPanel();
        lbl_titulodetallesolicitud1 = new javax.swing.JLabel();
        jScrollPane5 = new javax.swing.JScrollPane();
        table_posicioncompra = new javax.swing.JTable();

        txt_posicion.setText("0");

        txt_idcompra.setText("0");

        jPanel1.setBackground(new java.awt.Color(255, 255, 255));
        jPanel1.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        jPanel1.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        lbl_proveedor.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        lbl_proveedor.setText("PROVEEDOR");
        jPanel1.add(lbl_proveedor, new org.netbeans.lib.awtextra.AbsoluteConstraints(300, 80, -1, -1));

        txt_numerosolicitud.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        txt_numerosolicitud.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txt_numerosolicitudActionPerformed(evt);
            }
        });
        txt_numerosolicitud.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txt_numerosolicitudKeyReleased(evt);
            }
        });
        jPanel1.add(txt_numerosolicitud, new org.netbeans.lib.awtextra.AbsoluteConstraints(420, 80, 200, 20));

        lbl_cantidadsolicitada.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        lbl_cantidadsolicitada.setText("CANTIDAD SOLICITADA");
        jPanel1.add(lbl_cantidadsolicitada, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 50, -1, -1));

        txt_cantidadsolicitada.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        txt_cantidadsolicitada.setEnabled(false);
        jPanel1.add(txt_cantidadsolicitada, new org.netbeans.lib.awtextra.AbsoluteConstraints(160, 50, 80, -1));

        lbl_numeromaterial.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        lbl_numeromaterial.setText("NÚMERO DE MATERIAL");
        jPanel1.add(lbl_numeromaterial, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 20, -1, -1));

        txt_numeromaterial.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        txt_numeromaterial.setEnabled(false);
        jPanel1.add(txt_numeromaterial, new org.netbeans.lib.awtextra.AbsoluteConstraints(160, 20, 130, -1));

        lbl_cantidadaprobada.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        lbl_cantidadaprobada.setText("CANTIDAD APROBADA");
        jPanel1.add(lbl_cantidadaprobada, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 80, -1, -1));

        spin_cantidadaprobada.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        spin_cantidadaprobada.setModel(new javax.swing.SpinnerNumberModel(1, 1, null, 1));
        jPanel1.add(spin_cantidadaprobada, new org.netbeans.lib.awtextra.AbsoluteConstraints(160, 80, 80, -1));

        lbl_preciounitario.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        lbl_preciounitario.setText("PRECIO UNITARIO");
        jPanel1.add(lbl_preciounitario, new org.netbeans.lib.awtextra.AbsoluteConstraints(300, 20, -1, -1));

        txt_preciounitario.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        txt_preciounitario.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txt_preciounitarioKeyReleased(evt);
            }
        });
        jPanel1.add(txt_preciounitario, new org.netbeans.lib.awtextra.AbsoluteConstraints(420, 20, 110, -1));

        txt_totalposicion.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        txt_totalposicion.setEnabled(false);
        jPanel1.add(txt_totalposicion, new org.netbeans.lib.awtextra.AbsoluteConstraints(420, 50, 110, -1));

        lbl_posicion.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        lbl_posicion.setText("TOTAL POSICIÓN");
        jPanel1.add(lbl_posicion, new org.netbeans.lib.awtextra.AbsoluteConstraints(300, 50, -1, -1));

        area_justificacion.setColumns(20);
        area_justificacion.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        area_justificacion.setRows(5);
        jScrollPane3.setViewportView(area_justificacion);

        jPanel1.add(jScrollPane3, new org.netbeans.lib.awtextra.AbsoluteConstraints(650, 20, 280, -1));

        lbl_justificacion.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        lbl_justificacion.setText("JUSTIFICACIÓN");
        jPanel1.add(lbl_justificacion, new org.netbeans.lib.awtextra.AbsoluteConstraints(720, 0, -1, -1));

        lbl_observacion.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        lbl_observacion.setText("OBSERVACIONES");
        jPanel1.add(lbl_observacion, new org.netbeans.lib.awtextra.AbsoluteConstraints(1030, 0, -1, -1));

        area_observacion.setColumns(20);
        area_observacion.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        area_observacion.setRows(5);
        jScrollPane4.setViewportView(area_observacion);

        jPanel1.add(jScrollPane4, new org.netbeans.lib.awtextra.AbsoluteConstraints(950, 20, 290, -1));

        setDefaultCloseOperation(javax.swing.WindowConstants.DO_NOTHING_ON_CLOSE);
        addWindowListener(new java.awt.event.WindowAdapter() {
            public void windowOpened(java.awt.event.WindowEvent evt) {
                formWindowOpened(evt);
            }
        });
        getContentPane().setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        lbl_titulodetallesolicitud.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        lbl_titulodetallesolicitud.setForeground(new java.awt.Color(0, 138, 218));
        lbl_titulodetallesolicitud.setText("DETALLE ORDEN DE COMPRA");
        getContentPane().add(lbl_titulodetallesolicitud, new org.netbeans.lib.awtextra.AbsoluteConstraints(410, 280, -1, -1));

        table_resumenordendecompra.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        table_resumenordendecompra.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "id", "ORDEN DE COMPRA", "RIF", "PROVEEDOR", "CANTIDAD DE POSICIONES", "MONTO TOTAL", "MONEDA", "ORDEN GENERADA"
            }
        ) {
            boolean[] canEdit = new boolean [] {
                false, false, false, false, false, false, false, false
            };

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        table_resumenordendecompra.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mousePressed(java.awt.event.MouseEvent evt) {
                table_resumenordendecompraMousePressed(evt);
            }
        });
        jScrollPane2.setViewportView(table_resumenordendecompra);
        if (table_resumenordendecompra.getColumnModel().getColumnCount() > 0) {
            table_resumenordendecompra.getColumnModel().getColumn(0).setMinWidth(0);
            table_resumenordendecompra.getColumnModel().getColumn(0).setPreferredWidth(0);
            table_resumenordendecompra.getColumnModel().getColumn(0).setMaxWidth(0);
            table_resumenordendecompra.getColumnModel().getColumn(1).setMinWidth(150);
            table_resumenordendecompra.getColumnModel().getColumn(1).setPreferredWidth(150);
            table_resumenordendecompra.getColumnModel().getColumn(1).setMaxWidth(150);
            table_resumenordendecompra.getColumnModel().getColumn(2).setMinWidth(100);
            table_resumenordendecompra.getColumnModel().getColumn(2).setPreferredWidth(100);
            table_resumenordendecompra.getColumnModel().getColumn(2).setMaxWidth(100);
        }

        getContentPane().add(jScrollPane2, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 140, 1310, 130));

        jPanel7.setBackground(new java.awt.Color(153, 153, 153));
        jPanel7.setLayout(null);

        lbl_encabezadoalmacen2.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        lbl_encabezadoalmacen2.setForeground(new java.awt.Color(255, 255, 255));
        lbl_encabezadoalmacen2.setText("ANULAR ORDEN DE COMPRA");
        jPanel7.add(lbl_encabezadoalmacen2);
        lbl_encabezadoalmacen2.setBounds(310, 10, 220, 29);

        lbl_imagentimaca2.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagenes/TIMACA.png"))); // NOI18N
        jPanel7.add(lbl_imagentimaca2);
        lbl_imagentimaca2.setBounds(10, 0, 250, 60);

        bot_reiniciar.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        bot_reiniciar.setForeground(new java.awt.Color(255, 255, 255));
        bot_reiniciar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagenes/reiniciar.png"))); // NOI18N
        bot_reiniciar.setText("Reiniciar");
        bot_reiniciar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bot_reiniciarActionPerformed(evt);
            }
        });
        jPanel7.add(bot_reiniciar);
        bot_reiniciar.setBounds(1130, 20, 113, 33);
        complemento.DisableBorderButton(bot_reiniciar);

        bot_cerrar.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        bot_cerrar.setForeground(new java.awt.Color(255, 255, 255));
        bot_cerrar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagenes/cerrar.png"))); // NOI18N
        bot_cerrar.setText("Cerrar");
        bot_cerrar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bot_cerrarActionPerformed(evt);
            }
        });
        jPanel7.add(bot_cerrar);
        bot_cerrar.setBounds(1250, 20, 101, 29);
        complemento.DisableBorderButton(bot_cerrar);

        lbl_usuario.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        lbl_usuario.setForeground(new java.awt.Color(255, 255, 255));
        lbl_usuario.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        lbl_usuario.setText("USUARIO");
        jPanel7.add(lbl_usuario);
        lbl_usuario.setBounds(830, 10, 270, 17);

        lbl_nombres.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        lbl_nombres.setForeground(new java.awt.Color(255, 255, 255));
        lbl_nombres.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        lbl_nombres.setText("NOMBRES");
        lbl_nombres.setVerticalAlignment(javax.swing.SwingConstants.TOP);
        jPanel7.add(lbl_nombres);
        lbl_nombres.setBounds(832, 30, 270, 17);

        jPanel3.setBackground(new java.awt.Color(255, 255, 255));
        jPanel7.add(jPanel3);
        jPanel3.setBounds(1110, 10, 1, 40);

        getContentPane().add(jPanel7, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 0, 1430, 60));

        lbl_titulodetallesolicitud1.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        lbl_titulodetallesolicitud1.setForeground(new java.awt.Color(0, 138, 218));
        lbl_titulodetallesolicitud1.setText("ORDENES DE COMPRA");
        getContentPane().add(lbl_titulodetallesolicitud1, new org.netbeans.lib.awtextra.AbsoluteConstraints(430, 120, -1, -1));

        table_posicioncompra.setFont(new java.awt.Font("Tahoma", 1, 10)); // NOI18N
        table_posicioncompra.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "id_cotizacion", "NRO SOLICITUD", "POSICIÓN", "NRO MATERIAL", "MATERIAL SOLICITADO", "PROVEEDOR", "CANTIDAD A COMPRAR", "UMB", "PRECIO UNITARIO", "MONEDA", "TOTAL", "PLAZO DE ENTREGA(días)", "CONDICIÓN PAGO", "title14", "Title 15", "Title 16", "Title 17", "Title 18", "Title 19", "Title 20", "Title 21", "Title 22", "Title 23", "Title 24", "Title 25", "Title 26", "Title 27", "Title 28", "Title 29", "Title 30", "Title 31", "Title 32", "Title 33", "Title 34", "Title 35"
            }
        ) {
            boolean[] canEdit = new boolean [] {
                false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false
            };

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        table_posicioncompra.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mousePressed(java.awt.event.MouseEvent evt) {
                table_posicioncompraMousePressed(evt);
            }
        });
        jScrollPane5.setViewportView(table_posicioncompra);
        if (table_posicioncompra.getColumnModel().getColumnCount() > 0) {
            table_posicioncompra.getColumnModel().getColumn(0).setMinWidth(0);
            table_posicioncompra.getColumnModel().getColumn(0).setPreferredWidth(0);
            table_posicioncompra.getColumnModel().getColumn(0).setMaxWidth(0);
            table_posicioncompra.getColumnModel().getColumn(1).setMinWidth(0);
            table_posicioncompra.getColumnModel().getColumn(1).setPreferredWidth(0);
            table_posicioncompra.getColumnModel().getColumn(1).setMaxWidth(0);
            table_posicioncompra.getColumnModel().getColumn(2).setMinWidth(0);
            table_posicioncompra.getColumnModel().getColumn(2).setPreferredWidth(0);
            table_posicioncompra.getColumnModel().getColumn(2).setMaxWidth(0);
            table_posicioncompra.getColumnModel().getColumn(13).setMinWidth(0);
            table_posicioncompra.getColumnModel().getColumn(13).setPreferredWidth(0);
            table_posicioncompra.getColumnModel().getColumn(13).setMaxWidth(0);
            table_posicioncompra.getColumnModel().getColumn(14).setMinWidth(0);
            table_posicioncompra.getColumnModel().getColumn(14).setPreferredWidth(0);
            table_posicioncompra.getColumnModel().getColumn(14).setMaxWidth(0);
            table_posicioncompra.getColumnModel().getColumn(15).setMinWidth(0);
            table_posicioncompra.getColumnModel().getColumn(15).setPreferredWidth(0);
            table_posicioncompra.getColumnModel().getColumn(15).setMaxWidth(0);
            table_posicioncompra.getColumnModel().getColumn(16).setMinWidth(0);
            table_posicioncompra.getColumnModel().getColumn(16).setPreferredWidth(0);
            table_posicioncompra.getColumnModel().getColumn(16).setMaxWidth(0);
            table_posicioncompra.getColumnModel().getColumn(17).setMinWidth(0);
            table_posicioncompra.getColumnModel().getColumn(17).setPreferredWidth(0);
            table_posicioncompra.getColumnModel().getColumn(17).setMaxWidth(0);
            table_posicioncompra.getColumnModel().getColumn(18).setMinWidth(0);
            table_posicioncompra.getColumnModel().getColumn(18).setPreferredWidth(0);
            table_posicioncompra.getColumnModel().getColumn(18).setMaxWidth(0);
            table_posicioncompra.getColumnModel().getColumn(19).setMinWidth(0);
            table_posicioncompra.getColumnModel().getColumn(19).setPreferredWidth(0);
            table_posicioncompra.getColumnModel().getColumn(19).setMaxWidth(0);
            table_posicioncompra.getColumnModel().getColumn(20).setMinWidth(0);
            table_posicioncompra.getColumnModel().getColumn(20).setPreferredWidth(0);
            table_posicioncompra.getColumnModel().getColumn(20).setMaxWidth(0);
            table_posicioncompra.getColumnModel().getColumn(21).setMinWidth(0);
            table_posicioncompra.getColumnModel().getColumn(21).setPreferredWidth(0);
            table_posicioncompra.getColumnModel().getColumn(21).setMaxWidth(0);
            table_posicioncompra.getColumnModel().getColumn(22).setMinWidth(0);
            table_posicioncompra.getColumnModel().getColumn(22).setPreferredWidth(0);
            table_posicioncompra.getColumnModel().getColumn(22).setMaxWidth(0);
            table_posicioncompra.getColumnModel().getColumn(23).setMinWidth(0);
            table_posicioncompra.getColumnModel().getColumn(23).setPreferredWidth(0);
            table_posicioncompra.getColumnModel().getColumn(23).setMaxWidth(0);
            table_posicioncompra.getColumnModel().getColumn(24).setMinWidth(0);
            table_posicioncompra.getColumnModel().getColumn(24).setPreferredWidth(0);
            table_posicioncompra.getColumnModel().getColumn(24).setMaxWidth(0);
            table_posicioncompra.getColumnModel().getColumn(25).setMinWidth(0);
            table_posicioncompra.getColumnModel().getColumn(25).setPreferredWidth(0);
            table_posicioncompra.getColumnModel().getColumn(25).setMaxWidth(0);
            table_posicioncompra.getColumnModel().getColumn(26).setMinWidth(0);
            table_posicioncompra.getColumnModel().getColumn(26).setPreferredWidth(0);
            table_posicioncompra.getColumnModel().getColumn(26).setMaxWidth(0);
            table_posicioncompra.getColumnModel().getColumn(27).setMinWidth(0);
            table_posicioncompra.getColumnModel().getColumn(27).setPreferredWidth(0);
            table_posicioncompra.getColumnModel().getColumn(27).setMaxWidth(0);
            table_posicioncompra.getColumnModel().getColumn(28).setMinWidth(0);
            table_posicioncompra.getColumnModel().getColumn(28).setPreferredWidth(0);
            table_posicioncompra.getColumnModel().getColumn(28).setMaxWidth(0);
            table_posicioncompra.getColumnModel().getColumn(29).setMinWidth(0);
            table_posicioncompra.getColumnModel().getColumn(29).setPreferredWidth(0);
            table_posicioncompra.getColumnModel().getColumn(29).setMaxWidth(0);
            table_posicioncompra.getColumnModel().getColumn(30).setMinWidth(0);
            table_posicioncompra.getColumnModel().getColumn(30).setPreferredWidth(0);
            table_posicioncompra.getColumnModel().getColumn(30).setMaxWidth(0);
            table_posicioncompra.getColumnModel().getColumn(31).setMinWidth(0);
            table_posicioncompra.getColumnModel().getColumn(31).setPreferredWidth(0);
            table_posicioncompra.getColumnModel().getColumn(31).setMaxWidth(0);
            table_posicioncompra.getColumnModel().getColumn(32).setMinWidth(0);
            table_posicioncompra.getColumnModel().getColumn(32).setPreferredWidth(0);
            table_posicioncompra.getColumnModel().getColumn(32).setMaxWidth(0);
            table_posicioncompra.getColumnModel().getColumn(33).setMinWidth(0);
            table_posicioncompra.getColumnModel().getColumn(33).setPreferredWidth(0);
            table_posicioncompra.getColumnModel().getColumn(33).setMaxWidth(0);
            table_posicioncompra.getColumnModel().getColumn(34).setMinWidth(0);
            table_posicioncompra.getColumnModel().getColumn(34).setPreferredWidth(0);
            table_posicioncompra.getColumnModel().getColumn(34).setMaxWidth(0);
        }

        getContentPane().add(jScrollPane5, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 310, 1330, 360));

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void table_resumenordendecompraMousePressed(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_table_resumenordendecompraMousePressed
        Integer fila;
        ctrl_cotizacion cotizacion=null;
        BufferedImage img;
        
        
        fila = table_resumenordendecompra.getSelectedRow();
        
         cotizacion = new ctrl_cotizacion(
                   0, 
                   0, 
                   "", 
                   "", 
                   0, 
                   0, 
                   0, 
                   0, 
                   0, 
                   0,
                   0.0, 
                   0.0, 
                   "", 
                   "", //tipo plazo entrega
                    0, //dias plazoentrega
                   "", //condicion de pago
                   "", //tipotransporte
                    0, //diasflete
                    0.0, //costoflete
                    0, //codigomonedaflete
                   "", //fotocotizacion
                    "", //justificacion
                    "", //observacion    
                   false, 
                   false, 
                   "", 
                   false, 
                   "", 
                   false, 
                   Integer.parseInt(table_resumenordendecompra.getValueAt(fila, 0).toString()),
                   "",
                   true
                );       
                
        try { 
            cotizacion.consultar_cotizacion_autorizada_detalle_todas(Integer.parseInt(frm_principalM1.lbl_nivel.getText()),table_posicioncompra);
        } catch (SQLException ex) {
            
        }
        
             
        
        /*img = funciones.decodeToImage(ordendecompra.consultar_foto());
       
        ImageIcon icon = new ImageIcon(img);
        Icon icono = new ImageIcon(icon.getImage().getScaledInstance(lbl_foto.getWidth(), lbl_foto.getHeight(), Image.SCALE_DEFAULT));
        
        lbl_foto.setIcon(icono);*/
        
    }//GEN-LAST:event_table_resumenordendecompraMousePressed

    private void txt_preciounitarioKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_preciounitarioKeyReleased
        /*String monto = null;
        
        if ( ( (evt.getKeyCode() >= 48 ) && (evt.getKeyCode() <= 57 ) ) || ( (evt.getKeyCode() >= 37 ) && (evt.getKeyCode() <= 40 ) ) || ((evt.getKeyCode() >= 96 ) && (evt.getKeyCode() <= 105 )) || (evt.getKeyCode() == 144) || (evt.getKeyCode() == 127) || (evt.getKeyCode() == 8)  || (evt.getKeyCode() == 10)){       
            monto = String.valueOf(Integer.parseInt(txt_preciounitario.getText().trim()) * Integer.parseInt(spin_cantidadaprobada.getValue().toString()));
            txt_totalposicion.setText(monto);
        }
        else{
             if (evt.getKeyCode() == 27){
         
                    bot_reiniciar.doClick();
                    
             }
             else{
                JOptionPane.showMessageDialog(null, "CARÁCTER NO VÁLIDO. SOLO NÚMEROS (1..9)", "SISTIMACA - USUARIO", JOptionPane.ERROR_MESSAGE,null);
                txt_preciounitario.setText("");
                txt_totalposicion.setText("");
             }   
        }   */
    }//GEN-LAST:event_txt_preciounitarioKeyReleased

    private void bot_reiniciarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bot_reiniciarActionPerformed
       frm_anularordendecompra frm = new frm_anularordendecompra();
       frm.setVisible(true);
       this.dispose();
    }//GEN-LAST:event_bot_reiniciarActionPerformed

    private void bot_cerrarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bot_cerrarActionPerformed
        Integer resp = JOptionPane.showConfirmDialog(null, "ESTÁ SEGURO EN SALIR?");
        if (resp.equals(0)){
            this.dispose();
        }    

    }//GEN-LAST:event_bot_cerrarActionPerformed

    private void txt_numerosolicitudKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_numerosolicitudKeyReleased

        /*if ( ( (evt.getKeyCode() >= 48 ) && (evt.getKeyCode() <= 57 ) ) || ( (evt.getKeyCode() >= 37 ) && (evt.getKeyCode() <= 40 ) ) || ((evt.getKeyCode() >= 96 ) && (evt.getKeyCode() <= 105 )) || (evt.getKeyCode() == 144) || (evt.getKeyCode() == 127) || (evt.getKeyCode() == 8)  || (evt.getKeyCode() == 10)){
        }
        else{
            if (evt.getKeyCode() == 27){

                bot_reiniciar.doClick();

            }
            else{
                JOptionPane.showMessageDialog(null, "CARÁCTER NO VÁLIDO. SOLO NÚMEROS (1..9)", "SISTIMACA - USUARIO", JOptionPane.ERROR_MESSAGE,null);
                txt_numerosolicitud.setText("");
            }
        }*/

    }//GEN-LAST:event_txt_numerosolicitudKeyReleased

    private void txt_numerosolicitudActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txt_numerosolicitudActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txt_numerosolicitudActionPerformed

    private void formWindowOpened(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_formWindowOpened
            
            
        ctrl_cotizacion cotizacion = new ctrl_cotizacion(
                   0, 
                   0, 
                   "", 
                   "", 
                   0, 
                   0, 
                   0, 
                   0, 
                   0, 
                   0,
                   0.0, 
                   0.0, 
                   "", 
                   "", //tipo plazo entrega
                    0, //dias plazoentrega
                   "", //condicion de pago
                   "", //tipotransporte
                    0, //diasflete
                    0.0, //costoflete
                    0, //codigomonedaflete
                   "", //fotocotizacion
                    "", //justificacion
                    "", //observacion    
                   false, 
                   false, 
                   "", 
                   false, 
                   "", 
                   false, 
                   0,
                   "",
                   true
                );       
                
        try { 
            cotizacion.consultar_cotizacion_autorizada_todas(Integer.parseInt(frm_principalM1.lbl_nivel.getText()),table_resumenordendecompra);
        } catch (SQLException ex) {
            
        }
    }//GEN-LAST:event_formWindowOpened

    private void table_posicioncompraMousePressed(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_table_posicioncompraMousePressed

        frm_anularposicion_ordencompra frm = new frm_anularposicion_ordencompra();
        frm.setVisible(true);

    }//GEN-LAST:event_table_posicioncompraMousePressed

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
       
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new frm_anularordendecompra().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JTextArea area_justificacion;
    private javax.swing.JTextArea area_observacion;
    private javax.swing.JButton bot_cerrar;
    private javax.swing.JButton bot_reiniciar;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel7;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane3;
    private javax.swing.JScrollPane jScrollPane4;
    private javax.swing.JScrollPane jScrollPane5;
    private javax.swing.JLabel lbl_cantidadaprobada;
    private javax.swing.JLabel lbl_cantidadsolicitada;
    private javax.swing.JLabel lbl_encabezadoalmacen2;
    private javax.swing.JLabel lbl_imagentimaca2;
    private javax.swing.JLabel lbl_justificacion;
    private javax.swing.JLabel lbl_nombres;
    private javax.swing.JLabel lbl_numeromaterial;
    private javax.swing.JLabel lbl_observacion;
    private javax.swing.JLabel lbl_posicion;
    private javax.swing.JLabel lbl_preciounitario;
    private javax.swing.JLabel lbl_proveedor;
    private javax.swing.JLabel lbl_titulodetallesolicitud;
    private javax.swing.JLabel lbl_titulodetallesolicitud1;
    protected static javax.swing.JLabel lbl_usuario;
    private javax.swing.JSpinner spin_cantidadaprobada;
    protected static javax.swing.JTable table_posicioncompra;
    private javax.swing.JTable table_resumenordendecompra;
    private javax.swing.JTextField txt_cantidadsolicitada;
    private javax.swing.JTextField txt_idcompra;
    private javax.swing.JTextField txt_numeromaterial;
    private javax.swing.JTextField txt_numerosolicitud;
    private javax.swing.JTextField txt_posicion;
    private javax.swing.JTextField txt_preciounitario;
    private javax.swing.JTextField txt_totalposicion;
    // End of variables declaration//GEN-END:variables
}
